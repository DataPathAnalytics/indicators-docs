########################################
RISK-2-11. Безпідставна відміна тендеру.
########################################

***************
Суть індикатора
***************

Індикатор свідчить про: 
Замовник відмінив процедуру за відсутністю подальшої потреби, але потім оголосив процедуру за таким самим предметом закупівлі.

************************************
Законодавче обґрунтування індикатора
************************************

Порушення пп. 5 п. 1 статті 5 Закону про публічні закупівлі 

********************************
Підстава для розробки індикатора
********************************

Замовник у разі програшу "свого" постачальника може відміняти процедуру та починати нову, сподіваючись, що у ній "свій" вже переможе. 

*********************************
Методологія та алгоритм розрахунку індикатора
*********************************

Етап існування процедури
========================
Індикатор розраховується, коли процедура знаходиться на етапі *тендерингу*.


Рівень розрахунку
=================
Індикатор розраховується для переговорних процедур на рівні *тендера*.

Джерела даних для розрахунку
============================

Для розрахунку індикатора використовуються наступні джерела даних:

- API модуля тендеринга електронної системи закупівель
- Аналітична таблиця :ref:`tbl_noNeed`.

Типи процедур
=============

Індикатор розраховується для наступних типів процедур:

- ``aboveThresholdUA`` - *відкриті торги*
- ``aboveThresholdEU`` - *відкриті торги з публікацією англійською мовою*


Типи замовників
===============

Індикатор розраховується для замовників які в системі визначені як "А — Замовник (загальний)"  -  (``general``) та "В — Замовник (спеціальний)"  -  (``special``).

Стадії процедур
===============

Подія, що вмикає розрахунок індикатора
--------------------------------------

Подія, що вмикає розрахунок індикатора - з'являється процедура зі статосум ``active.tendering``.

Подія, що вимикає розрахунок індикатора
---------------------------------------

Розрахунок індикатора вимикається одразу після того, як останнє обчислене його значення дорівнює ``0`` чи ``1``.

Статуси процедур
----------------

Виходячи з подій, що вмикають та вимикають розрахунок індикатора, маємо наступні умови розрахунку:

- Індикатор розраховується, якщо статус процедури дорівнює ``active.tendering`` та не виконана умова вимикання розрахунку.


Частота розрахунку
==================

Якщо виконані умови для розрахунку індикатора, він розраховується один раз.

Поля для розрахунку
===================

Для розрахунку індикатора використовуються наступні поля з API модуля тендеринга:

- ``data.items.classification.id``
- ``data.procuringEntity.identifier.scheme``
- ``data.procuringEntity.identifier.id``


Для розрахунку індикатора використовуються наступні аналітичні таблиці:

- :ref:`tbl_noNeed`

Формула розрахунку
==================

1. Визначаємо ідентифікатор замовника - конкатенація ``data.procuringEntity.identifier.scheme`` та ``data.procuringEntity.identifier.id``.

2. Якщо для іднтифікатора замовника відсутні записи в аналітичній таблиці :ref:`tbl_noNeed`, індикатор приймає значення ``0``, розрахунок завершується.

3. Визначаємо коди предметів закупівлі - всі елементи ``data.items.classification.id``.

4. Якщо в аналітичній таблиці :ref:`tbl_noNeed` для даного замовника знаходимо хоча б один код предмета закупки з п.2, індикатор приймає значення ``1``, розрахунок завершується.

5. Якщо в аналітичній таблиці :ref:`tbl_noNeed` для даного замовника не знаходимо жодного кода предмета закупки з п.2, індикатор приймає значення ``0``, розрахунок завершується.




Фактори, що впливають на неточність розрахунку
==============================================

1. Індикатор може бути спрацьований некоректно у випадках, коли юридичні особи, які не є замовниками в розумінні Закону, але є державними, комунальними, казенними підприємствами, господарськими товариствами чи об'єднаннями підприємств, в яких державна чи комунальна частка складає 50 і більше відсотків  помилково визначають себе в системі як загальні замовники. Така ситуація відбувається з причини, що за чинними нормативними актами, замовник при ініціюванні процедури закупівлі самостійно у полі "тип замовника" себе визначає. При цьому, з боку системи чи авторизованих майданчиків не здійснюється контроль за достовірність такого визначення. Таким чино індикатор спрацьовує на тих процедурах які в системі зазначено як замовник - загальний, а по факту замовник належить до категорії "інші".

2. Замовник невірно визначає код предмету закупівлі.
